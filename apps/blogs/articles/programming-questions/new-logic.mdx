---
title: new 运算符
description: ""
tags: ["编程"]
poster: ""
date: 2024/02/01
---

## 介绍

new 运算符创建一个用户定义的对象类型的实例或具有构造函数的内置对象的实例。

## 实现

```typescript
/**
 * 实现原生new
 * @param fn
 */
export default function newLogic(fn: any, ...args: any) {
  // 1. 创建对象
  // 2. 继承原型
  // 3. 改变指向
  // 4. 判断结果是否为引用类型，是则返回结果否则返回this对象
  let obj = {};
  Object.setPrototypeOf(obj, fn.prototype);
  const resultCaller = fn.call(obj, ...args);
  return resultCaller instanceof Object ? resultCaller : obj;
}
```

## 参考

[MDN new 运算符](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/new)
